(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"full-bg"},[s._m(0),t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:" col-4 justify-content-center m-auto white"},[t("h1",{staticClass:"text-center mb-3 font-weight-bold"},[s._v("後台登入")]),t("form",{on:{submit:function(e){return e.preventDefault(),s.login(e)}}},[t("div",{staticClass:"mb-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"帳號(Email)",required:"",autofocus:"",disabled:s.isLoading},domProps:{value:s.user.email},on:{input:[function(e){e.target.composing||s.$set(s.user,"email",e.target.value)},s.clearMessage]}})]),t("div",{staticClass:"mb-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密碼",required:"",disabled:s.isLoading},domProps:{value:s.user.password},on:{input:[function(e){e.target.composing||s.$set(s.user,"password",e.target.value)},s.clearMessage]}})]),t("button",{staticClass:"btn btn-dark form-control",attrs:{type:"submit",disabled:s.isLoading}},[s._v(" 登入 "),s.isLoading?t("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):s._e()])]),s.errorMessage?t("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[s._v(" "+s._s(s.errorMessage)+" ")]):s._e(),s.successMessage?t("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[s._v(" "+s._s(s.successMessage)+" ")]):s._e()])])]),t("div",{staticClass:"mt-5"})])},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"top"},[t("h3",[s._v("皂皂市集管理後台")])])}],i="".concat("https://course-ec-api.hexschool.io/api/","auth/login"),o={data:function(){return{isLoading:!1,user:{email:"",password:""},errorMessage:"",successMessage:""}},methods:{login:function(){var s=this,e={email:this.user.email,password:this.user.password};this.isLoading=!0,this.$http.post(i,e).then((function(e){s.successMessage="登入成功，請稍候...";var t=e.data.token,a=e.data.expired;document.cookie="token=".concat(t),document.cookie="expired=".concat(new Date(1e3*a)),setTimeout((function(){s.$router.push({path:"/admin/products"})}),2e3),s.isLoading=!1})).catch((function(e){e&&(s.isLoading=!1,s.errorMessage="登入失敗",s.password="")}))},clearMessage:function(){this.errorMessage="",this.successMessage=""}}},n=o,c=t("2877"),l=Object(c["a"])(n,a,r,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.3e9cf179.js.map